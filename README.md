# Heat-Map

Heat-map which tracks the total spending of your credit card. 

### How to run the project:
1. Have Flutter SDK installed on your local machine. [Get Started with Flutter - Documentation](https://docs.flutter.dev/get-started/install) 
2. Have Git installed on your local machine. [Get started with Git - Documentation](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
3. Folk the repository by clicking the folk button on top of the repository on GitHub.
4. Clone the repository on your local machine using the following command:

```
git clone <Folked Repo link>
```

4. Open the repository on your Visual Studio Code (VS Code)
5. Open the terminal in VS Code and run the following command to load all the packages 

```
flutter pub get
```

6. Choose an emulator to run the code on
7. Go to the 'Run and Debug' section of VS Code (or press shift+command+D) and press the green play button
8. Open the 'Debug Console' (shift+command+Y) and have a look at the logs
9. Wait for a few mins, until the app gets installed on your emulator
10. Everything is set! You can try the project

### Project support
- Flutter version: 3.22.2 - channel: Stable
- Chrome/Android Emulator

### Approach and Decision Making
1. Firstly started by creating the week label to ensure I follow the global convention of week starting from a Sunday
2. Then started building the week column for the grid - HmCol()
3. Created a dummy dataset generated by chat gpt - where the List contains around 200 objects of data
    - converted the data to TansactionModel which can be used
    - and for better usage converted the model to a Map<DateTime, double> where the key was the currentDate and the value was the total transaction [credit + debit] that happened on that day
    - found out the maxValue in the aggregatedData
4. Looped the HmCol() using the logic ```int i = 0 - (startDate.weekday % 7); i <= dateDif; i += 7```
    - date dif = EndDate - StartDate
    - incrementing the index by 7 because there are 7 days in a week and we are accommodating them in the HmCol()
5. Converted the Row into a Scrollable widget - where the weeks were also scrolling
6. Saved the months of the first box in the HmCol() to label the months
    - came up with the logic of looping over the length of the firstDayInfo List and checking if the current value is a repeat of the previous one
    - if it is a repeat writeLabel = false; else writeLabel = true(this was to ensure that the month label apears only once and at the start of the week and not in between)
    - for a good us, had to write a logic to ensure the first label has no left padding and rest all have sufficient padding to suite at the right place with respect to the column in the grid
7. Added an onTap function on the boxes. Made it a Function(DateTime) returning the current (tapped) DateTime which can be used on tap
8. Created a dialog box to show the date of the tapped box and relevant data [total amount credited, total amount debited and the transaction history of that day]
9. Filled the boxes with color by changing its opacity based on the totalDailyValue / maxValue
10. Fixed the scrolling of the widget by making the weeks label static and only the grid scrollable. Because weeks label being scrolled away would leave the user confused on which is the first day (Sunday or Monday)
11. Refactored the UI a bit by adding border color to boxes
12. Integrated a switch button to change the view from a yearly view to a monthly view, in case the user want to analyse only the month
13. Integrated BLoC for state management and data handling
14. Refactored the dialog box to hold various information about the particular day
15. Restructured the files
16. TADAAAA!!! The task was accomplished!
